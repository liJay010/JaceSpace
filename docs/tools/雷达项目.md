# 1.   环境与安装

解压文件  tar -xvf bird_segmentation.tar

**操作系统：**Ubuntu18.04

**安装方法：**

   运行命令：

```sh
conda create -n env python=3.9
```

注：env为新环境名称，可以任意命名,安装过程确定按y。

```sh
conda activate env
```

注：进入新创建的环境。

安装cartopy

```sh
conda install -c conda-forge cartopy
```
安装过程确定按y。
然后运行命令安装依赖:

```sh
pip install -r requirements.txt
```

 安装Pycinrad

```sh
cd PyCINRAD
python setup.py install
cd ..
```
Pycinrad源码更改
```sh
进入 anaconda3 虚拟环境目录 -- 查看anaconda路径
conda info --envs
anaconda3/envs/env/lib/python3.9/site-packages/cinrad-1.7.1-py3.9.egg/cinrad/visualize/utils.py
更改
#ax.background_patch.set_visible(False)
#ax.outline_patch.set_visible(False)
ax.patch.set_visible(False)
ax.spines['geo'].set_visible(False)
```

# 2.   可执行文件说明

**get_result.py**

读取一个时间段内的雷达扫描数据，并根据数据渲染出Z（反射率因子）、V（径向速度）、W（谱宽）、鸟类检测（分割结果）的图片，并输出该雷达基本信息的json文件。

 

**使用方法：**

命令行执行：

   python get_result.py  site dataPath resultPath startTime endTime

 

**使用例子：**

   python get_result.py Z9071 ./prePath/data ./prePath/output 20220101 20220201

 

**参数：**



1. site 

   **注：**雷达站点，如 Z9071

​	2.dataPath

​	**注：**雷达数据的目录，dataPath必须是诸如”20220420” 时间格式组织的文件夹，且里面是一个基数据文件保存一个仰角

​	3.resultPath

​	**注：**结果的输出目录

 	4.startTime

​	**注：**雷达的开始扫描时间，格式为"年月日"，如"20220101",前四位为年份，五六位为月份，最后两位为日期

​	5.endTime

​	**注：**雷达的结束扫描时间,格式同startTime

 

   **返回值：**

​      无

 

   **注：**每个时间点的分析结果保存在另一个文件夹，例如"20220101"的分析结果会保存在"resPath/20220101"文件夹下。

 测试程序见 radar_test目录

 

 