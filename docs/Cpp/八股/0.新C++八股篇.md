# 新cpp八股

**1.C++模板是什么，会生成哪些额外的文件，性能上那些优劣，模板编译之后会怎么样，会减少重复代码吗**

**什么是C++模板？**
  C++用来编写泛型代码，C++模板允许**编写独立于数据类型的代码**。通过使用模板，你可以创建通用的**函数或类**，而**不必为每种数据类型编写单独的代码**。

**模板两次编译阶段**
1.解析模板，进行语法检查，不会生成具体代码。

2.模板实例化，会生成实际类或者函数的代码。



**性能上的优劣**
**优点：**

**减少重复代码：**模板允许你编写一次代码，然后对多种数据类型使用，从而减少代码重复。
**类型安全：**模板在编译时进行类型检查，确保类型安全。
**缺点：**

**编译时间增加：**由于模板在编译时实例化，编译时间可能会增加。
**二进制文件变大：**每个**模板实例化**都会生成**新的代码**，可能导致二进制文件变大。



**2.快排、归并排序那个快，空间的复杂度**

快排：log(n) - 算上递归调用空间

归并：n



**3.编译器会为对象拷贝做哪些优化**

1.返回优化，返回对象可以在调用者内存空间构造

2.临时对象消除，用临时对象进行传递



**4.为什么虚函数存储在.rodata只读数据段**

1.不可变

2.共享性

3.对只读数据段进行优化，提高性能



**5.为什么要引入用nullptr**

类型安全问题：NULL就是0，而nullptr就是空指针，增加了类型安全性

消除二义性：0和空指针

**6.浮点数的存储方法** 

**单精度浮点数**由三个部分组成：

1. **符号位（1位）**：表示浮点数的正负。0表示正数，1表示负数。
2. **指数位（8位）**：表示浮点数的指数部分，采用偏移量（bias）表示法。对于单精度浮点数，偏移量是127。
3. **尾数位（23位）**：表示浮点数的有效数字部分，采用规范化表示法，最高位隐含为1。

例如，十进制数20.5在内存中的表示为：

- 符号位：0（正数）
- 指数位：10000011（二进制表示131，偏移量127）
- 尾数位：01010000000000000000000（省略了最高位的1）



**双精度浮点数**的结构类似，但各部分的位数不同：

1. **符号位（1位）**：同样表示正负。
2. **指数位（11位）**：偏移量为1023。
3. **尾数位（52位）**：表示有效数字部分。

例如，十进制数20.5在双精度浮点数中的表示为：

- 符号位：0（正数）
- 指数位：10000000011（二进制表示1035，偏移量1023）
- 尾数位：0101000000000000000000000000000000000000000000000000（省略了最高位的1）

### 存储示意图

```
单精度浮点数（32位）： | 符号位 | 指数位（8位） | 尾数位（23位） | |   1    |      8       |       23       | 双精度浮点数（64位）： | 符号位 | 指数位（11位） | 尾数位（52位） | |   1    |      11       |       52       |
```

**7.stl迭代器类型，迭代器失效原因**

1. **输入迭代器（Input Iterator）**：
   - 只能读取元素。
   - 支持单向遍历（只能前进）。
   - 适用于一次性读取的算法。
2. **输出迭代器（Output Iterator）**：
   - 只能写入元素。
   - 支持单向遍历（只能前进）。
   - 适用于一次性写入的算法。
3. **前向迭代器（Forward Iterator）**：
   - 既能读取也能写入元素。
   - 支持单向遍历（只能前进）。
   - 适用于多次遍历的算法。
4. **双向迭代器（Bidirectional Iterator）**：
   - 既能读取也能写入元素。
   - 支持双向遍历（可以前进和后退）。
   - 适用于需要双向遍历的算法。
5. **随机访问迭代器（Random Access Iterator）**：
   - 既能读取也能写入元素。
   - 支持双向遍历和随机访问（可以直接跳到任意位置）。
   - 适用于需要高效随机访问的算法。

**容器大小改变**、**容器结构改变**

**8.vector缩容方法**



**9.CPU爆满怎么查?**



**10.tcp分包是怎么分的，一定会在tcp分吗，如果上层应用层想分怎么分**



**11.linux 内存管理方法**



**12.raft是什么、脑裂怎么办、脑裂过程遇到请求怎么办：写请求和读请求处理起来有差别吗？**



**13.函数重载 编译器怎么处理的**



**14.一个父类，3个子类，有多少张虚函数表**



**15.this指针存在哪里，怎么实现的**



**16.函数指针可以转void *吗，成员函数指针呢**

函数指针可以，因为处于代码段中，成员函数有this指针不行

**17.怎么排查内存泄漏**



**18.断点调试是怎么实现的**



**19.为什么要游戏开发**

更加贴合技术栈C++，喜欢更底层的东西，喜欢更有回馈性的工作更有成就感，而且对游戏开发感兴趣。

**20.将来职业规划**

如果有幸进入到咱这边，前面努力学习技术。

