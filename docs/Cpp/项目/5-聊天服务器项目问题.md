# 聊天服务器项目问题

## 1.cmake 中 库依赖关系 写反会出现问题

应该是从后往前写->mymuduo 如果包含 pthread 则先写 mymuduo

```cmake
target_link_libraries(ChatServer mymuduo pthread)
```

写反会报如下错误：

```sh
/usr/lib/gcc/x86_64-linux-gnu/7/../../../../lib/libmymuduo.so: undefined reference to `pthread_create'
/usr/lib/gcc/x86_64-linux-gnu/7/../../../../lib/libmymuduo.so: undefined reference to `sem_wait'
/usr/lib/gcc/x86_64-linux-gnu/7/../../../../lib/libmymuduo.so: undefined reference to `sem_init'
/usr/lib/gcc/x86_64-linux-gnu/7/../../../../lib/libmymuduo.so: undefined reference to `sem_post'
collect2: error: ld returned 1 exit status
CMakeFiles/ChatServer.dir/build.make:94: recipe for target 'bin/ChatServer' failed
make[2]: *** [bin/ChatServer] Error 1
CMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/ChatServer.dir/all' failed
make[1]: *** [CMakeFiles/ChatServer.dir/all] Error 2
Makefile:83: recipe for target 'all' failed
make: *** [all] Error 2
```

## 2.error: ‘unordered_map’ does not name a type

unordered_map在std::unordered_map 命名空间下。



## 3.数据库INNER JOIN查询

MySQL中的INNER JOIN是一种用于联结两个或多个表的操作。它基于两个表之间的共同字段，将它们连接起来以获取符合特定条件的数据。

INNER JOIN的语法如下：

```sql
SELECT 列名
FROM 表1
INNER JOIN 表2
ON 表1.共同字段 = 表2.共同字段;
```

```sql
查询 userid = 8888的人的好友列表信息
select a.id,a.name,a.state from user a inner join friend b on b.friendid = a.id where b.userid= 8888
```

以下是INNER JOIN的用法示例：

假设我们有两个表：`Customers` 和 `Orders`。 `Customers` 表包含客户的详细信息，`Orders` 表包含客户的订单信息。这两个表中都有一个共同字段 `customer_id`。

我们可以使用INNER JOIN将这两个表连接起来，以获取具有匹配 `customer_id` 的客户和订单信息。

```sql
SELECT Customers.customer_name, Orders.order_number
FROM Customers
INNER JOIN Orders
ON Customers.customer_id = Orders.customer_id;
```



上述查询将从 `Customers` 表和 `Orders` 表中选择 `customer_name` 和 `order_number` 列，然后连接这两个表。

请注意，`ON` 子句用于指定连接的条件，即 `Customers.customer_id = Orders.customer_id`。这表示我们只获取具有相同 `customer_id` 的客户和订单。

使用INNER JOIN时，只会返回符合连接条件的匹配行。如果某个表中的数据没有匹配项，它将不会被包含在结果中。

这就是MySQL中INNER JOIN的基本用法。它可以帮助我们在多个表中根据关联字段获取相关数据。



## 100.业务待改进

1.注册没有判断是都注册过

2.数据库连接池，不然每次查询数据库都要建立连接池

